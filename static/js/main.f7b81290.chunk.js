(this.webpackJsonphomepage=this.webpackJsonphomepage||[]).push([[0],{128:function(e,t,a){},129:function(e,t,a){},156:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(12),s=a.n(i),r=(a(128),a(46)),o=a(14),l=(a(129),a(29)),j=a.n(l),d=a(44),b=a(10),u=a(218),h=a(78),x=a(56),m=a(216),g=a(217),p=a(225),O=a(203),f=a(219),v=a(201),y=a(72),k=a(70),N=a.n(k),w=a(97),C=a.n(w),S=a(99),T=a.n(S),I=a(205),D=a(227),F=a(207),W=a(208),M=a(230),P=a(206),A=a(112),z=a(210),B=a(211),R=a(212),H=a(96),L=a.n(H),E=a(95),Z=a.n(E),G="https://oc43214.ml",U=a(98),_=a.n(U),J=a(51),Y=a.n(J),q=function(e,t,a,n,c){return new Promise((function(i,s){Y()({url:G+e,method:t,data:c,headers:{"Content-Type":n,Authorization:a}}).then((function(e){console.log(e),i(e)})).catch((function(e){console.log(e),s(e)}))}))},V=a(2),K=Object(v.a)((function(e){return{card:{height:"100%"},media:{paddingTop:"77.25%",position:"relative",height:"100%",objectFit:"fill",justifyContent:"center",alignItems:"center",backgroundColor:"#e8eaed"},navbeforebutton:{position:"absolute",background:"transparent",color:"black",top:"0",left:"0",minHeight:"100%",minWidth:"10%"},navnextbutton:{position:"absolute",background:"transparent",color:"black",top:"0",right:"0",minHeight:"100%",minWidth:"10%"},imageClick:{position:"absolute",background:"transparent",top:"10%",right:"25%",minHeight:"80%",minWidth:"50%"},radioGroup:{justifyContent:"center"},comment:{marginLeft:"auto"},avatar:{backgroundColor:y.a[500]}}})),Q=function(e){var t=K(),a=e.data,i=e.index,s=e.handleOpenDialog,r=Object(n.useState)(0),o=Object(b.a)(r,2),l=o[0],u=o[1],m=Object(n.useState)(null),g=Object(b.a)(m,2),p=g[0],f=g[1],v=Object(n.useState)(!1),y=Object(b.a)(v,2),k=y[0],w=y[1],S=Object(n.useState)(a.likes),H=Object(b.a)(S,2),E=H[0],U=H[1],J=new Date(a.time),Y=a.images.length,Q="";a.user.split(" ").forEach((function(e){Q+=e.charAt(0)}));var X=function(){u(l+1===Y?0:l+1)},$=function(){u(0===l?Y-1:l-1)},ee=function(e){u(parseInt(e.target.value))},te=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=17;break}return e.prev=1,e.next=4,q("/like/"+a.id,"put","","application/json",{inc:!0});case 4:if(200!==(n=e.sent).status){e.next=9;break}U(n.data),e.next=11;break;case 9:return console.log(n.status),e.abrupt("return");case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return");case 16:w(!0);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(V.jsx)("div",{children:Object(V.jsxs)(F.a,{raised:!1,className:t.card,children:[Object(V.jsx)(W.a,{avatar:Object(V.jsx)(M.a,{"aria-label":"avatar",className:t.avatar,children:Q}),action:Object(V.jsxs)("div",{children:[Object(V.jsx)(P.a,{"aria-label":"settings",onClick:function(e){f(e.currentTarget)},children:Object(V.jsx)(C.a,{})}),Object(V.jsx)(A.a,{id:"simple-menu",anchorEl:p,keepMounted:!0,open:Boolean(p),onClose:function(){f(null)},children:Object(V.jsxs)(z.a,{onClick:function(e){s(i)},children:[Object(V.jsx)(_.a,{}),Object(V.jsx)(x.a,{children:"Delete"})]})})]}),title:"".concat(a.title," @ ").concat(a.location),subheader:J.toString()}),Object(V.jsxs)(B.a,{className:t.media,image:"".concat(G).concat(a.images[l]),children:[a.images.length>1?Object(V.jsxs)(c.a.Fragment,{children:[Object(V.jsx)(O.a,{className:t.navbeforebutton,onClick:$,children:Object(V.jsx)(Z.a,{fontSize:"large"})}),Object(V.jsx)(O.a,{className:t.navnextbutton,onClick:X,children:Object(V.jsx)(L.a,{fontSize:"large"})})]}):void 0,Object(V.jsx)(h.a,{onClick:function(e){window.open("".concat(G).concat(a.images[l]),"_blank")},className:t.imageClick,elevation:0})]}),a.images.length>1?Object(V.jsx)(I.a,{disableSpacing:!0,className:t.radioGroup,children:a.images.map((function(e,t){return Object(V.jsx)(D.a,{checked:l===t,onChange:ee,name:"radio-button",size:"small",value:t},t)}))}):void 0,Object(V.jsx)(R.a,{children:Object(V.jsx)(x.a,{variant:"body2",color:"textPrimary",component:"p",children:a.text})}),Object(V.jsxs)(I.a,{disableSpacing:!0,children:[Object(V.jsx)(P.a,{"aria-label":"favorites",onClick:te,style:{color:k?"#f44336":"default"},children:Object(V.jsx)(N.a,{})}),Object(V.jsx)(x.a,{children:"".concat(E)}),Object(V.jsx)(P.a,{className:t.comment,"aria-label":"comment",children:Object(V.jsx)(T.a,{})})]})]})})},X=a(101),$=a.n(X),ee=a.p+"static/media/Gintama.003ffb3c.jpeg",te=a(61),ae=a(113),ne=a(214),ce=a(213),ie=a(5),se=Object(ie.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=(e.onClose,Object(ae.a)(e,["children","classes","onClose"]));return Object(V.jsx)(ce.a,Object(te.a)(Object(te.a)({disableTypography:!0,className:a.root},n),{},{children:Object(V.jsx)(x.a,{variant:"h6",children:t})}))})),re=Object(ie.a)((function(e){return{root:{padding:e.spacing(2)}}}))(ce.a),oe=Object(ie.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(ce.a),le=function(e){var t=e.onClose,a=e.open,n=e.Notification,c=e.content,i=e.action;return Object(V.jsxs)(ne.a,{onClose:t,"aria-labelledby":"customized-dialog-title",open:a,children:[Object(V.jsx)(se,{id:"customized-dialog-title",onClose:function(){t()},children:n}),Object(V.jsx)(re,{dividers:"true",children:c}),Object(V.jsx)(oe,{children:i})]})},je=a(215),de=a(100),be=a.n(de),ue=Object(v.a)((function(e){return{appbar:{display:"relative"},link:{position:"relative",top:"1em",background:"white"},button:{margin:e.spacing(1),color:"inherit"},toolbar:e.mixins.toolbar}})),he=function(e){var t=e.isAbout,a=ue();return Object(V.jsx)("div",{children:Object(V.jsx)(je.a,{className:a.appbar,id:"header",style:{backgroundColor:t?"#252e37":"#1565c0"},children:Object(V.jsx)(m.a,{className:a.toolbar,children:Object(V.jsxs)(g.a,{container:!0,spacing:1,children:[Object(V.jsx)(g.a,{item:!0,xs:3,sm:2,lg:1,children:Object(V.jsx)(r.b,{to:"/",style:{textDecoration:"none"},children:Object(V.jsx)(O.a,{className:a.link,children:"Gallery"})})}),Object(V.jsx)(g.a,{item:!0,xs:3,sm:2,lg:1,children:Object(V.jsx)(r.b,{to:"/about",style:{textDecoration:"none"},children:Object(V.jsx)(O.a,{className:a.link,children:"About"})})}),Object(V.jsx)(g.a,{item:!0,xs:4,sm:7,lg:9}),Object(V.jsx)(g.a,{item:!0,xs:2,sm:1,children:Object(V.jsx)(P.a,{"aria-label":"login",edge:"end",className:a.button,children:Object(V.jsx)(be.a,{size:"medium"})})})]})})})})},xe=Object(v.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,position:"relative",minHeight:200},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),backgroundColor:"#1565c0"},card:{paddingTop:e.spacing(.5)},errorCard:{padding:e.spacing(3),textAlign:"justify"},errorMessage:{width:"100%",padding:e.spacing(1),color:"Red"}}})),me=function(e){var t=xe(),a=Object(n.useState)(0),c=Object(b.a)(a,2),i=c[0],s=c[1],o=Object(n.useState)(!1),l=Object(b.a)(o,2),v=l[0],y=l[1],k=Object(n.useState)(0),N=Object(b.a)(k,2),w=N[0],C=N[1],S=Object(n.useState)(""),T=Object(b.a)(S,2),I=T[0],D=T[1],F=Object(n.useState)(!0),W=Object(b.a)(F,2),M=W[0],P=W[1],A=function(e){var t=Object(n.useState)([]),a=Object(b.a)(t,2),c=a[0],i=a[1],s=Object(n.useState)(!0),r=Object(b.a)(s,2),o=r[0],l=r[1],j=Object(n.useState)(!1),d=Object(b.a)(j,2),u=d[0],h=d[1],x=Object(n.useState)(!0),m=Object(b.a)(x,2),g=m[0],p=m[1];return Object(n.useEffect)((function(){l(!0),h(!1),console.log(e),Y()({method:"GET",url:G+"/post",params:{page:e},cancelToken:new Y.a.CancelToken((function(e){return e}))}).then((function(e){i((function(t){return t.concat(e.data)})),p(e.data.length>0),l(!1)})).catch((function(e){Y.a.isCancel(e)||(u.response&&u.response.status,l(!1),h(!0),console.log(e))}))}),[e]),{loading:o,error:u,posts:c,hasMore:g}}(i),z=A.posts,B=A.loading,R=A.error,H=A.hasMore,L=Object(n.useRef)(),E=Object(n.useCallback)((function(e){B||(L.current&&L.current.disconnect(),L.current=new IntersectionObserver((function(e){e[0].isIntersecting&&H&&s(i+1)})),e&&L.current.observe(e))}),[B,H]),Z=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,C(t);case 3:console.log(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){y(!1)},_=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q("/post/"+z[w].id,"delete",I,"application/json",{id:z[w].id});case 3:t=e.sent,console.log(t),window.location.reload(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(V.jsxs)("div",{className:t.root,children:[Object(V.jsx)(he,{}),Object(V.jsx)(m.a,{}),Object(V.jsxs)(g.a,{container:!0,spacing:1,children:[Object(V.jsx)(g.a,{item:!0,lg:3}),Object(V.jsxs)(g.a,{item:!0,xs:12,lg:6,children:[z.map((function(e,a){return z.length===a+1?Object(V.jsx)("div",{className:t.card,ref:E,children:Object(V.jsx)(Q,{data:e,index:a,handleOpenDialog:Z})},e.id):Object(V.jsx)("div",{className:t.card,children:Object(V.jsx)(Q,{data:e,index:a,handleOpenDialog:Z})},e.id)})),Object(V.jsx)(le,{open:v,onClose:U,Notification:"Do you really want to delete the post?",content:Object(V.jsx)("div",{children:Object(V.jsx)(p.a,{id:"text",label:"Token",type:"text",error:M,onChange:function(e){D(e.target.value),e.target.value.length>0?P(!1):P(!0)}})},"content"),action:Object(V.jsxs)("div",{children:[Object(V.jsx)(O.a,{onClick:_,children:"Yes"}),Object(V.jsx)(O.a,{onClick:U,children:"No"})]})}),function(){if(B&&!R)return Object(V.jsx)("div",{className:t.card,children:Object(V.jsx)(u.a,{})})}(),function(){if(R)return Object(V.jsx)("div",{className:t.card,children:Object(V.jsxs)(h.a,{className:t.errorCard,children:[Object(V.jsx)(x.a,{variant:"h5",className:t.errorMessage,children:"Oops, looks like we failed to load the content. It is because either you need a new service provider or the backend server is on its vacation. It is definitely not due to any technical issues."}),Object(V.jsx)("img",{src:ee,alt:"error",className:t.errorMessage}),Object(V.jsx)(x.a,{variant:"h5",className:t.errorMessage,style:{textAlign:"center"},children:"Refresh the page to retry"})]})})}()]}),Object(V.jsx)(g.a,{item:!0,lg:3})]}),Object(V.jsx)(r.b,{to:"/newpost",style:{textDecoration:"none"},children:Object(V.jsx)(f.a,{color:"primary",className:t.fab,"aria-label":"add",children:Object(V.jsx)($.a,{})})})]})},ge=a(55),pe=a(221),Oe=a(229),fe=a(228),ve=a(108),ye=a.n(ve),ke=a(15),Ne=a(209),we=a(159),Ce=a(220),Se=a.p+"static/media/avatar.bbf1fb1e.jpg",Te=a(102),Ie=a.n(Te),De=a(103),Fe=a.n(De),We=a(104),Me=a.n(We),Pe=a(105),Ae=a.n(Pe),ze=a(106),Be=a.n(ze),Re=Object(v.a)((function(e){return{root:{position:"relative",justifyContent:"center"},list:{paddingTop:100},listItem:{position:"relative",justifyContent:"center"},image:{position:"absolute",width:170,height:170,backgroundColor:"gray"},text:{padding:e.spacing(1)}}})),He=function(){var e=Re();return Object(V.jsx)("div",{className:e.root,children:Object(V.jsxs)(Ne.a,{component:"ul","aria-label":"sidebar_list",className:e.list,children:[Object(V.jsx)(we.a,{className:e.listItem,children:Object(V.jsx)(M.a,{alt:"Tianyang Zhang",src:Se,className:e.image})}),Object(V.jsx)(we.a,{className:e.listItem,style:{paddingTop:100},children:Object(V.jsxs)(x.a,{variant:"h5",style:{fontFamily:"Open Sans",fontWeight:700},className:e.text,children:[" ","Tianyang Zhang"]})}),Object(V.jsx)(we.a,{className:e.listItem,children:Object(V.jsxs)(Ne.a,{children:[Object(V.jsxs)(we.a,{className:e.listItem,children:[Object(V.jsx)(Ie.a,{}),Object(V.jsx)(x.a,{className:e.text,children:"zhangtianyangsky@gmail.com"})]}),Object(V.jsxs)(we.a,{className:e.listItem,children:[Object(V.jsx)(Fe.a,{}),Object(V.jsx)(x.a,{className:e.text,children:"(614) 852-0566"})]})]})}),Object(V.jsx)(we.a,{className:e.listItem,children:Object(V.jsxs)(Ne.a,{children:[Object(V.jsx)(we.a,{className:e.listItem,children:Object(V.jsx)(x.a,{children:"About Me"})}),Object(V.jsx)(we.a,{className:e.listItem,children:Object(V.jsx)(x.a,{children:"Skills"})}),Object(V.jsx)(we.a,{className:e.listItem,children:Object(V.jsx)(x.a,{children:"Projects"})}),Object(V.jsx)(we.a,{className:e.listItem,children:Object(V.jsx)(x.a,{children:"Contact Me"})})]})})," ",Object(V.jsx)(we.a,{className:e.listItem,children:Object(V.jsxs)(Ne.a,{children:[Object(V.jsx)(we.a,{className:e.listItem,children:Object(V.jsx)(Ce.a,{href:"https://www.linkedin.com/in/tianyang-zhang-sky/",color:"inherit",children:Object(V.jsx)(Me.a,{})})}),Object(V.jsx)(we.a,{className:e.listItem,children:Object(V.jsx)(Ce.a,{href:"https://github.com/SkyZhangT",color:"inherit",children:Object(V.jsx)(Ae.a,{})})}),Object(V.jsx)(we.a,{className:e.listItem,children:Object(V.jsx)(Ce.a,{href:"https://www.instagram.com/tianyan_zhang/",color:"inherit",children:Object(V.jsx)(Be.a,{})})})]})}),Object(V.jsx)(we.a,{className:e.listItem,children:Object(V.jsxs)(x.a,{style:{color:"gray",textAlign:"center"},children:["Made with React, Material-ui, and some love",Object(V.jsx)(N.a,{}),"."]})})]})})},Le=a(222),Ee=a(223),Ze=a.p+"static/media/bkg1.95092767.jpg",Ge=a.p+"static/media/bkg2.c176812d.jpg",Ue=a.p+"static/media/port1.5b58f441.png",_e=a(107),Je=a.n(_e),Ye=Object(v.a)((function(e){var t;return{root:{display:"flex",width:"100%"},drawer:(t={},Object(ge.a)(t,e.breakpoints.up("md"),{width:"".concat(20,"%"),minWidth:290,flexShrink:0}),Object(ge.a)(t,"justifyContent","center"),t),menuButton:Object(ge.a)({position:"fixed",bottom:e.spacing(2),left:e.spacing(2)},e.breakpoints.up("md"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{backgroundColor:"#eeeeee",width:"".concat(20,"%"),minWidth:290,zIndex:3},content:{position:"flex",width:"100%"},container:{width:"100%",maxWidth:"100%",marginLeft:0,marginRight:0,justifyContent:"center",alignItems:"center"},introText:{padding:5,fontFamily:"Open Sans",color:"white"},aboutText:{padding:5,fontFamily:"Open Sans",color:"primary",textAlign:"left"},skillText:{padding:5,fontFamily:"Open Sans",color:"primary",textAlign:"center"},card:{height:"100%"}}})),qe=function(e){var t=e.window,a=Ye(),n=Object(ke.a)(),i=c.a.useState(!1),s=Object(b.a)(i,2),r=s[0],o=s[1],l=[{title:"Development",text:"asdfaswevadfsvaserfvbsefvsdfvszdfc vaserfdvarvadfvadfvaerfgserfbgvs fvzdcvaserfbaf vbazsdcvzs",image:"todo"},{title:"Development",text:"todo",image:Ze},{title:"Development",text:"todo",image:"todo"},{title:"Development",text:"todo",image:"todo"},{title:"Development",text:"todo",image:"todo"},{title:"Development",text:"todo",image:"todo"},{title:"Development",text:"todo",image:"todo"}],j=function(){o(!r)},d=void 0!==t?function(){return t().document.body}:void 0;return Object(V.jsxs)("div",{className:a.root,children:[Object(V.jsx)(pe.a,{}),Object(V.jsx)(he,{isAbout:!0}),Object(V.jsxs)("nav",{className:a.drawer,"aria-label":"mailbox folders",children:[Object(V.jsx)(fe.a,{smDown:!0,implementation:"css",children:Object(V.jsxs)(Oe.a,{classes:{paper:a.drawerPaper},variant:"persistent",open:!0,children:[Object(V.jsx)("div",{className:a.toolbar}),Object(V.jsx)(He,{})]})}),Object(V.jsx)(fe.a,{mdUp:!0,implementation:"css",children:Object(V.jsxs)(Oe.a,{container:d,variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:r,onClose:j,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0},children:[Object(V.jsx)(m.a,{}),Object(V.jsx)(He,{})]})})]}),Object(V.jsxs)("main",{className:a.content,children:[Object(V.jsx)(m.a,{className:a.toolbar}),Object(V.jsxs)(Le.a,{style:{position:"relative",height:650,backgroundPosition:"20% 70%",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(Ge,")"),backgroundSize:"cover",paddingTop:100},className:a.container,children:[Object(V.jsx)(x.a,{variant:"h6",className:a.introText,style:{fontWeight:300},children:"Hello,"}),Object(V.jsx)(x.a,{variant:"h4",className:a.introText,style:{fontWeight:700},children:"I am Tianyang Zhang"}),Object(V.jsx)(x.a,{variant:"h6",className:a.introText,style:{fontWeight:500},children:"Photographer & Fullstack Developer"})]}),Object(V.jsx)(Le.a,{id:"About Me",style:{backgroundColor:"#fafafa",paddingTop:0,justifyContent:"left"},className:a.container,children:Object(V.jsxs)(g.a,{container:!0,children:[Object(V.jsxs)(g.a,{item:!0,xs:12,lg:6,style:{justifyContent:"left",alignItems:"left"},children:[Object(V.jsx)(x.a,{variant:"h3",className:a.aboutText,style:{fontWeight:700,paddingTop:100},children:"About Me"}),Object(V.jsx)(x.a,{variant:"h6",className:a.aboutText,style:{fontWeight:500,color:"gray"},children:"Photographer & Fullstack Developer,"}),Object(V.jsx)(x.a,{variant:"h6",className:a.aboutText,style:{fontWeight:400},children:"I am Tianyang Zhang, I enjoy photograpy as well as design and develope software systems. While my background in computer science gave me adequate knowledge and skills to solve technical problems as a software engineer, my experience as a photographer elevated my aesthetics to appreciate and enjoy my life as a person. As a fullstack developer, I am capable of developing both backend APIs and services and frontend interfaces."}),Object(V.jsxs)(O.a,{variant:"outlined",style:{margin:30,backgroundColor:"#0a1c38"},children:[Object(V.jsx)(Je.a,{style:{color:"white",margin:7}}),Object(V.jsx)(x.a,{variant:"h6",style:{color:"white",fontWeight:500,margin:7},children:"Download Resume"})]})]}),Object(V.jsx)(g.a,{item:!0,xs:12,lg:6,children:Object(V.jsx)("img",{src:Ue,style:{width:"100%",maxHeight:600,objectFit:"cover",objectPosition:"top",overflow:"hidden",marginBottom:0}})})]})}),Object(V.jsxs)(Le.a,{id:"Skill",style:{backgroundColor:"white",paddingBottom:50},className:a.container,children:[Object(V.jsx)(x.a,{variant:"h3",className:a.skillText,style:{fontWeight:700,paddingTop:100},children:"What I'am Doing"}),Object(V.jsx)(x.a,{variant:"h5",className:a.skillText,style:{fontWeight:500,color:"gray"},children:"I love what I do. I take great pride in what I do."}),Object(V.jsx)(g.a,{container:!0,spacing:4,style:{paddingTop:50},children:l.map((function(e,t){return console.log(e),Object(V.jsx)(g.a,{item:!0,xs:12,md:6,lg:3,children:Object(V.jsx)(F.a,{id:"card ".concat(t),className:a.card,children:Object(V.jsxs)(Ee.a,{className:a.card,children:[Object(V.jsx)(B.a,{image:e.image,title:"Contemplative Reptile",style:{height:140}}),Object(V.jsxs)(R.a,{className:a.card,children:[Object(V.jsx)(x.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.title}),Object(V.jsx)(x.a,{variant:"body2",color:"textSecondary",component:"p",children:e.text})]})]})})},"".concat(t))}))})]}),Object(V.jsxs)(Le.a,{id:"Projects",style:{backgroundColor:"#fafafa"},className:a.container,children:[" ",Object(V.jsx)(x.a,{variant:"h3",className:a.skillText,style:{fontWeight:700,paddingTop:100},children:"My Portfolio"}),Object(V.jsx)(x.a,{variant:"h5",className:a.skillText,style:{fontWeight:500,color:"gray"},children:"I am passionate about every project I participate in"})]})]}),Object(V.jsx)(f.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:j,className:a.menuButton,children:Object(V.jsx)(ye.a,{})})]})},Ve=a(109),Ke=function(){var e=new Date,t=e.getUTCDate().toString(),a=(e.getUTCMonth()+1).toString(),n=e.getUTCFullYear().toString();return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),n+"-"+a+"-"+t},Qe=a(224),Xe=a(226);var $e=function(e){var t="primary";return e.status<0&&(t="secondary"),Object(V.jsxs)(Xe.a,{display:"flex",alignItems:"center",children:[Object(V.jsx)(Xe.a,{width:"100%",mr:1,children:Object(V.jsx)(Qe.a,Object(te.a)({color:t,variant:"determinate"},e))}),Object(V.jsx)(Xe.a,{minWidth:35,children:Object(V.jsx)(x.a,{variant:"body2",color:"textSecondary",children:0===e.status?"".concat(Math.round(e.value),"%"):1===e.status?"Finished":-1===e.status?"Error":"Ready"})})]})},et=a(111),tt=a.n(et),at=a(110),nt=a.n(at),ct=Object(v.a)((function(e){return{root:{position:"relative",minHeight:"200px",padding:"1rem"},line:{paddingTop:e.spacing(1)},textField:{width:"95%"},image:{maxWidth:"95%"},input:{display:"none"},imageButton:{backgroundColor:"black",color:"gray"},publishButton:{backgroundColor:"inherit",color:"orange"}}})),it=function(e){var t=ct(),a=Object(n.useState)([]),c=Object(b.a)(a,2),i=c[0],s=c[1],r=Object(n.useState)([]),o=Object(b.a)(r,2),l=o[0],f=o[1],v=Object(n.useState)(""),y=Object(b.a)(v,2),k=y[0],N=y[1],w=Object(n.useState)(""),C=Object(b.a)(w,2),S=C[0],T=C[1],I=Object(n.useState)(""),D=Object(b.a)(I,2),F=D[0],W=D[1],M=Object(n.useState)(Date.now()),A=Object(b.a)(M,2),z=A[0],B=A[1],R=Object(n.useState)(""),H=Object(b.a)(R,2),L=H[0],E=H[1],Z=Object(n.useState)(!0),G=Object(b.a)(Z,2),U=G[0],_=G[1],J=Object(n.useState)(!0),Y=Object(b.a)(J,2),K=Y[0],Q=Y[1],X=Object(n.useState)(!0),$=Object(b.a)(X,2),ee=$[0],te=$[1],ae=Object(n.useState)(!1),ne=Object(b.a)(ae,2),ce=ne[0],ie=ne[1],se=Object(n.useState)(!0),re=Object(b.a)(se,2),oe=re[0],je=re[1],de=Object(n.useState)(!1),be=Object(b.a)(de,2),ue=be[0],xe=be[1],me=Object(n.useState)(!1),ge=Object(b.a)(me,2),pe=ge[0],Oe=ge[1],fe=Object(n.useState)(0),ve=Object(b.a)(fe,2),ye=ve[0],ke=ve[1],Ne=Object(n.useState)(2),we=Object(b.a)(Ne,2),Ce=we[0],Se=we[1],Te=function(e){return function(){i.splice(e,1),s(i.concat([])),l.splice(e,1),f(l.concat([]))}},Ie=function(){Oe(!1)},De=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,n,c,i,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(U||K||ce||ee||0===l.length)){e.next=3;break}return Oe(!0),e.abrupt("return");case 3:ke(0),Se(0),a=l.length+1,n=[],c=0;case 8:if(!(c<l.length)){e.next=31;break}return(i=new FormData).append("image",l[c]),e.prev=11,e.next=14,q("/image","post",L,"multipart/form-data",i);case 14:if(200!==(s=e.sent).status&&208!==s.status){e.next=20;break}n.push(s.data),ke(100*(c+1)/a),e.next=22;break;case 20:return Se(-1),e.abrupt("return");case 22:e.next=28;break;case 24:return e.prev=24,e.t0=e.catch(11),Se(-1),e.abrupt("return");case 28:c++,e.next=8;break;case 31:return e.prev=31,e.next=34,q("/post","post",L,"application/json",{user:"Sky Zhang",title:k,location:F,time:z,text:S,images:n,likes:0});case 34:if(200!==e.sent.status){e.next=40;break}ke(100),Se(1),e.next=42;break;case 40:return Se(-1),e.abrupt("return");case 42:e.next=48;break;case 44:return e.prev=44,e.t1=e.catch(31),Se(-1),e.abrupt("return");case 48:case"end":return e.stop()}}),e,null,[[11,24],[31,44]])})));return function(t){return e.apply(this,arguments)}}();return Object(V.jsxs)("div",{children:[Object(V.jsx)(he,{}),Object(V.jsx)(m.a,{}),Object(V.jsxs)(g.a,{container:!0,spacing:1,children:[Object(V.jsx)(g.a,{item:!0,lg:3}),Object(V.jsx)(g.a,{item:!0,xs:12,lg:6,children:Object(V.jsxs)(h.a,{className:t.root,children:[Object(V.jsxs)(g.a,{container:!0,spacing:2,children:[Object(V.jsx)(g.a,{item:!0,xs:12,md:4,children:Object(V.jsx)(p.a,{id:"title",label:"Title",type:"text",error:U,className:t.textField,onChange:function(e){N(e.target.value),e.target.value.length>0?_(!1):_(!0)}})}),Object(V.jsx)(g.a,{item:!0,xs:12,md:4,children:Object(V.jsx)(p.a,{id:"location",label:"Location",type:"text",error:U,className:t.textField,onChange:function(e){W(e.target.value),e.target.value.length>0?te(!1):te(!0)}})}),Object(V.jsx)(g.a,{item:!0,xs:12,md:4,children:Object(V.jsx)(p.a,{id:"date",label:"Date",type:"date",error:ce,defaultValue:Ke(),InputLabelProps:{shrink:!0},className:t.textField,onChange:function(e){var t=e.target.value.split("-"),a=new Date(t[0],t[1]-1,t[2]);null==a.getTime()||a.getTime()>Date.now()?ie(!0):(ie(!1),B(a.getTime()))}})}),Object(V.jsx)(g.a,{item:!0,xs:12,md:12,children:Object(V.jsx)(p.a,{id:"text",label:"Description",type:"text",error:K,rows:4,rowsMax:4,multiline:!0,className:t.textField,onChange:function(e){T(e.target.value),e.target.value.length>0?Q(!1):Q(!0)}})})]}),i.map((function(e,a){return Object(V.jsx)("div",{className:t.line,children:Object(V.jsx)("img",{src:e,className:t.image,onClick:Te(a),alt:"Failed to load"})},"img"+a.toString())})),function(){if(ue)return Object(V.jsx)("div",{className:t.line,children:Object(V.jsx)(u.a,{})})}(),Object(V.jsxs)("div",{className:t.line,children:[Object(V.jsx)("input",{accept:"image/*",className:t.input,id:"image",multiple:!0,type:"file",onChange:function(e){xe(!0);var t,a=[],n=new FileReader,c=Object(Ve.a)(e.target.files);try{for(c.s();!(t=c.n()).done;){var r=t.value;l.push(r)}}catch(o){c.e(o)}finally{c.f()}!function t(c){var r=e.target.files[c];if(c>=e.target.files.length)return s(i.concat(a)),void xe(!1);n.onload=function(e){a=a.concat(n.result),t(c+1)},n.readAsDataURL(r)}(0)}}),Object(V.jsx)("label",{htmlFor:"image",children:Object(V.jsx)(P.a,{component:"span",className:t.imageButton,variant:"outlined",children:Object(V.jsx)(nt.a,{})})})]}),Object(V.jsx)("div",{className:t.line,children:Object(V.jsx)(p.a,{id:"token",label:"Pass Token",type:"text",error:oe,className:t.title,onChange:function(e){E(e.target.value),e.target.value.length>0?je(!1):je(!0)}})}),Object(V.jsx)("div",{className:t.line,children:Object(V.jsxs)(O.a,{className:t.publishButton,variant:"outlined",onClick:De,disabled:0===Ce,children:[Object(V.jsx)(tt.a,{}),Object(V.jsx)(x.a,{children:"Publish"})]})}),Object(V.jsx)("div",{className:t.line,children:Object(V.jsx)($e,{variant:"determinate",status:Ce,value:ye})}),Object(V.jsx)(le,{open:pe,onClose:Ie,Notification:"Invalid Post",action:Object(V.jsx)(O.a,{autoFocus:!0,onClick:Ie,color:"primary",style:{margin:0},children:"ok"})})]})}),Object(V.jsx)(g.a,{item:!0,lg:3})]})]})};var st=function(){return Object(V.jsx)(r.a,{children:Object(V.jsx)("div",{className:"App",children:Object(V.jsxs)(o.c,{children:[Object(V.jsx)(o.a,{exact:!0,path:"/",component:me}),Object(V.jsx)(o.a,{exact:!0,path:"/about",component:qe}),Object(V.jsx)(o.a,{exact:!0,path:"/newpost",component:it})]})})})},rt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,232)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),i(e),s(e)}))};s.a.render(Object(V.jsx)(c.a.StrictMode,{children:Object(V.jsx)(st,{})}),document.getElementById("root")),rt()}},[[156,1,2]]]);
//# sourceMappingURL=main.f7b81290.chunk.js.map