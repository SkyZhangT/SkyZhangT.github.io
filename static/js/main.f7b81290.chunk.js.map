{"version":3,"sources":["config/config.jsx","utils/network.jsx","components/Post.jsx","res/Gintama.jpeg","components/Dialog.jsx","components/Header.jsx","pages/Gallery.jsx","res/avatar.jpg","components/Sidebar.jsx","res/bkg1.jpg","res/bkg2.jpg","res/port1.png","pages/About.jsx","utils/misc.jsx","components/ProgressBar.jsx","pages/NewPost.jsx","App.js","reportWebVitals.js","index.js"],"names":["root_url","makeRequest","path","method","auth","contentType","data","Promise","resolve","reject","axios","url","headers","Authorization","then","res","console","log","catch","err","useStyles","makeStyles","theme","card","height","media","paddingTop","position","objectFit","justifyContent","alignItems","backgroundColor","navbeforebutton","background","color","top","left","minHeight","minWidth","navnextbutton","right","imageClick","radioGroup","comment","marginLeft","avatar","red","Post","props","classes","index","handleOpenDialog","useState","p_index","setIndex","anchorEl","setAnchorEl","faved","setFaved","likes","setLikes","date","Date","time","max","images","length","name","user","split","forEach","s","charAt","next_photo","prev_photo","handleRadioChange","e","parseInt","target","value","handleFavClick","a","id","inc","status","Card","raised","className","CardHeader","Avatar","aria-label","action","IconButton","onClick","event","currentTarget","Menu","keepMounted","open","Boolean","onClose","MenuItem","Typography","title","location","subheader","toString","CardMedia","image","Fragment","Button","fontSize","Paper","window","elevation","CardActions","disableSpacing","map","_","Radio","checked","onChange","size","CardContent","variant","component","text","style","DialogTitle","withStyles","root","margin","padding","spacing","closeButton","palette","grey","children","other","disableTypography","DialogContent","MuiDialogContent","DialogActions","MuiDialogActions","SimpleDialog","Notification","content","Dialog","aria-labelledby","dividers","appbar","display","link","button","toolbar","mixins","Header","isAbout","AppBar","Toolbar","Grid","container","item","xs","sm","lg","to","textDecoration","edge","paper","fab","bottom","errorCard","textAlign","errorMessage","width","Gallery","pageNumber","setPageNumber","openDialog","setOpenDialog","delIndex","setDelIndex","token","setToken","tokenError","setTokenError","posts","setPosts","loading","setLoading","error","setError","hasMore","setHasMore","useEffect","params","page","cancelToken","CancelToken","c","concat","isCancel","response","usePostSearch","observer","useRef","lastPostRef","useCallback","node","current","disconnect","IntersectionObserver","entries","isIntersecting","observe","handleCloseDialog","handleDeletePost","result","reload","post","ref","TextField","label","type","CircularProgress","loadingButton","src","gintama","alt","Fab","list","listItem","Sidebar","List","ListItem","pic1","fontFamily","fontWeight","Link","href","drawer","breakpoints","up","flexShrink","menuButton","drawerPaper","zIndex","maxWidth","marginRight","introText","aboutText","skillText","About","useTheme","React","mobileOpen","setMobileOpen","Skills","handleDrawerToggle","undefined","document","body","CssBaseline","Hidden","smDown","implementation","Drawer","mdUp","anchor","direction","ModalProps","Container","backgroundPosition","backgroundRepeat","backgroundImage","bkg2","backgroundSize","port1","maxHeight","objectPosition","overflow","marginBottom","paddingBottom","md","CardActionArea","gutterBottom","getFormattedDate","newDate","day","getUTCDate","month","getUTCMonth","year","getUTCFullYear","LinearProgressWithLabel","Box","mr","LinearProgress","Math","round","line","textField","input","imageButton","publishButton","NewPost","selectedImages","selectNew","uploadFiles","setUploadFiles","setTitle","setBody","setLocation","now","setDate","titleError","setTitleError","bodyError","setBodyError","locationError","setLocationError","dateError","setDateError","imageLoading","setImageLoading","progress","setProgress","transferState","setTransferState","handleRemoveImage","splice","handleUpload","total","i","formdata","FormData","append","push","defaultValue","InputLabelProps","shrink","dateStr","getTime","rows","rowsMax","multiline","img","accept","multiple","reader","FileReader","files","f","readFile","file","onload","readAsDataURL","htmlFor","disabled","autoFocus","App","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f7b81290.chunk.js","sourcesContent":["export const root_url = \"https://oc43214.ml\";\r\n","import axios from \"axios\";\r\nimport { root_url } from \"../config/config\";\r\n\r\nconst makeRequest = (path, method, auth, contentType, data) => {\r\n  return new Promise((resolve, reject) => {\r\n    axios({\r\n      url: root_url + path,\r\n      method: method,\r\n      data: data,\r\n      headers: {\r\n        \"Content-Type\": contentType,\r\n        Authorization: auth,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        console.log(res);\r\n        resolve(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        reject(err);\r\n      });\r\n  });\r\n};\r\n\r\nexport default makeRequest;\r\n","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport PropTypes from \"prop-types\";\r\nimport { red } from \"@material-ui/core/colors\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport ShareIcon from \"@material-ui/icons/Share\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport MessageIcon from \"@material-ui/icons/Message\";\r\nimport {\r\n  Button,\r\n  Menu,\r\n  Card,\r\n  MenuItem,\r\n  CardHeader,\r\n  TextField,\r\n  CardMedia,\r\n  CardContent,\r\n  CardActions,\r\n  Avatar,\r\n  IconButton,\r\n  Typography,\r\n  Radio,\r\n  Paper,\r\n} from \"@material-ui/core\";\r\nimport NavigateNextIcon from \"@material-ui/icons/NavigateNextRounded\";\r\nimport NavigateBeforeIcon from \"@material-ui/icons/NavigateBefore\";\r\nimport { root_url } from \"../config/config\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport makeRequest from \"../utils/network\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  card: {\r\n    height: \"100%\",\r\n  },\r\n  media: {\r\n    paddingTop: \"77.25%\", // 16:9\r\n    position: \"relative\",\r\n    height: \"100%\",\r\n    objectFit: \"fill\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    backgroundColor: \"#e8eaed\",\r\n  },\r\n  navbeforebutton: {\r\n    position: \"absolute\",\r\n    background: \"transparent\",\r\n    color: \"black\",\r\n    top: \"0\",\r\n    left: \"0\",\r\n    minHeight: \"100%\",\r\n    minWidth: \"10%\",\r\n  },\r\n  navnextbutton: {\r\n    position: \"absolute\",\r\n    background: \"transparent\",\r\n    color: \"black\",\r\n    top: \"0\",\r\n    right: \"0\",\r\n    minHeight: \"100%\",\r\n    minWidth: \"10%\",\r\n  },\r\n  imageClick: {\r\n    position: \"absolute\",\r\n    background: \"transparent\",\r\n    top: \"10%\",\r\n    right: \"25%\",\r\n    minHeight: \"80%\",\r\n    minWidth: \"50%\",\r\n  },\r\n  radioGroup: { justifyContent: \"center\" },\r\n  comment: {\r\n    marginLeft: \"auto\",\r\n  },\r\n  avatar: {\r\n    backgroundColor: red[500],\r\n  },\r\n}));\r\n\r\nconst Post = (props) => {\r\n  const classes = useStyles();\r\n  const { data, index, handleOpenDialog } = props;\r\n\r\n  const [p_index, setIndex] = useState(0);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [faved, setFaved] = useState(false);\r\n  const [likes, setLikes] = useState(data.likes);\r\n\r\n  var date = new Date(data.time);\r\n  const max = data.images.length;\r\n  var name = \"\";\r\n\r\n  data.user.split(\" \").forEach((s) => {\r\n    name = name + s.charAt(0);\r\n  });\r\n\r\n  const next_photo = () => {\r\n    if (p_index + 1 === max) {\r\n      setIndex(0);\r\n    } else {\r\n      setIndex(p_index + 1);\r\n    }\r\n  };\r\n\r\n  const prev_photo = () => {\r\n    if (p_index === 0) {\r\n      setIndex(max - 1);\r\n    } else {\r\n      setIndex(p_index - 1);\r\n    }\r\n  };\r\n\r\n  const navButton = () => {\r\n    if (data.images.length > 1) {\r\n      return (\r\n        <React.Fragment>\r\n          <Button className={classes.navbeforebutton} onClick={prev_photo}>\r\n            <NavigateBeforeIcon fontSize=\"large\" />\r\n          </Button>\r\n\r\n          <Button className={classes.navnextbutton} onClick={next_photo}>\r\n            <NavigateNextIcon fontSize=\"large\" />\r\n          </Button>\r\n        </React.Fragment>\r\n      );\r\n    } else {\r\n      return;\r\n    }\r\n  };\r\n\r\n  const radioGroup = () => {\r\n    if (data.images.length > 1) {\r\n      return (\r\n        <CardActions disableSpacing className={classes.radioGroup}>\r\n          {data.images.map((_, index) => {\r\n            return (\r\n              <Radio\r\n                checked={p_index === index}\r\n                onChange={handleRadioChange}\r\n                name=\"radio-button\"\r\n                size=\"small\"\r\n                value={index}\r\n                key={index}\r\n              />\r\n            );\r\n          })}\r\n        </CardActions>\r\n      );\r\n    } else {\r\n      return;\r\n    }\r\n  };\r\n\r\n  const handleRadioChange = (e) => {\r\n    setIndex(parseInt(e.target.value));\r\n  };\r\n\r\n  const handleImageClick = (e) => {\r\n    window.open(`${root_url}${data.images[p_index]}`, \"_blank\");\r\n  };\r\n\r\n  const handleFavClick = async (e) => {\r\n    if (!faved) {\r\n      try {\r\n        let res = await makeRequest(\r\n          \"/like/\" + data.id,\r\n          \"put\",\r\n          \"\",\r\n          \"application/json\",\r\n          { inc: true }\r\n        );\r\n        if (res.status === 200) {\r\n          setLikes(res.data);\r\n        } else {\r\n          console.log(res.status);\r\n          return;\r\n        }\r\n      } catch (err) {\r\n        return;\r\n      }\r\n      setFaved(true);\r\n    }\r\n  };\r\n\r\n  const handleMenuClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleDeleteClick = (e) => {\r\n    handleOpenDialog(index);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Card raised={false} className={classes.card}>\r\n        <CardHeader\r\n          avatar={\r\n            <Avatar aria-label=\"avatar\" className={classes.avatar}>\r\n              {name}\r\n            </Avatar>\r\n          }\r\n          action={\r\n            <div>\r\n              <IconButton aria-label=\"settings\" onClick={handleMenuClick}>\r\n                <MoreVertIcon />\r\n              </IconButton>\r\n              <Menu\r\n                id=\"simple-menu\"\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleMenuClose}\r\n              >\r\n                <MenuItem onClick={handleDeleteClick}>\r\n                  <DeleteIcon />\r\n                  <Typography>Delete</Typography>\r\n                </MenuItem>\r\n              </Menu>\r\n            </div>\r\n          }\r\n          title={`${data.title} @ ${data.location}`}\r\n          subheader={date.toString()}\r\n        />\r\n        <CardMedia\r\n          className={classes.media}\r\n          image={`${root_url}${data.images[p_index]}`}\r\n        >\r\n          {navButton()}\r\n\r\n          <Paper\r\n            onClick={handleImageClick}\r\n            className={classes.imageClick}\r\n            elevation={0}\r\n          />\r\n        </CardMedia>\r\n        {radioGroup()}\r\n        <CardContent>\r\n          <Typography variant={\"body2\"} color=\"textPrimary\" component=\"p\">\r\n            {data.text}\r\n          </Typography>\r\n        </CardContent>\r\n        <CardActions disableSpacing>\r\n          <IconButton\r\n            aria-label=\"favorites\"\r\n            onClick={handleFavClick}\r\n            style={{ color: faved ? \"#f44336\" : \"default\" }}\r\n          >\r\n            <FavoriteIcon />\r\n          </IconButton>\r\n          <Typography>{`${likes}`}</Typography>\r\n          {/* <IconButton aria-label=\"share\">\r\n          <ShareIcon />\r\n        </IconButton> */}\r\n          <IconButton className={classes.comment} aria-label=\"comment\">\r\n            <MessageIcon />\r\n          </IconButton>\r\n        </CardActions>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","export default __webpack_public_path__ + \"static/media/Gintama.003ffb3c.jpeg\";","import React from \"react\";\r\nimport { Dialog, IconButton, Typography } from \"@material-ui/core\";\r\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport MuiDialogContent from \"@material-ui/core/DialogTitle\";\r\nimport MuiDialogActions from \"@material-ui/core/DialogTitle\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: \"absolute\",\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)((props) => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nconst SimpleDialog = (props) => {\r\n  const { onClose, open, Notification, content, action } = props;\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      onClose={onClose}\r\n      aria-labelledby=\"customized-dialog-title\"\r\n      open={open}\r\n    >\r\n      <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\r\n        {Notification}\r\n      </DialogTitle>\r\n      <DialogContent dividers=\"true\">{content}</DialogContent>\r\n      <DialogActions>{action}</DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default SimpleDialog;\r\n","import React from \"react\";\r\nimport {\r\n  AppBar,\r\n  Toolbar,\r\n  IconButton,\r\n  makeStyles,\r\n  Grid,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appbar: {\r\n    display: \"relative\",\r\n  },\r\n  link: {\r\n    position: \"relative\",\r\n    top: \"1em\",\r\n    background: \"white\",\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    color: \"inherit\",\r\n  },\r\n  toolbar: theme.mixins.toolbar,\r\n}));\r\n\r\nconst Header = (props) => {\r\n  const { isAbout } = props;\r\n  const classes = useStyles();\r\n\r\n  // window.onscroll = function () {\r\n  //   if (window.pageYOffset === 0) {\r\n  //     alert(\"I AM AT THE TOP\");\r\n  //   }\r\n  // };\r\n\r\n  return (\r\n    <div>\r\n      <AppBar\r\n        className={classes.appbar}\r\n        id=\"header\"\r\n        style={{\r\n          backgroundColor: isAbout ? \"#252e37\" : \"#1565c0\",\r\n        }}\r\n      >\r\n        <Toolbar className={classes.toolbar}>\r\n          <Grid container spacing={1}>\r\n            <Grid item xs={3} sm={2} lg={1}>\r\n              <Link to=\"/\" style={{ textDecoration: \"none\" }}>\r\n                <Button className={classes.link}>Gallery</Button>\r\n              </Link>\r\n            </Grid>\r\n\r\n            <Grid item xs={3} sm={2} lg={1}>\r\n              <Link to=\"/about\" style={{ textDecoration: \"none\" }}>\r\n                <Button className={classes.link}>About</Button>\r\n              </Link>\r\n            </Grid>\r\n\r\n            {/*middle spacing*/}\r\n            <Grid item xs={4} sm={7} lg={9} />\r\n\r\n            <Grid item xs={2} sm={1}>\r\n              <IconButton\r\n                aria-label=\"login\"\r\n                edge=\"end\"\r\n                className={classes.button}\r\n              >\r\n                <AccountCircleIcon size=\"medium\" />\r\n              </IconButton>\r\n            </Grid>\r\n          </Grid>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useState, useRef, useCallback, useEffect } from \"react\";\r\nimport {\r\n  Fab,\r\n  Grid,\r\n  CircularProgress,\r\n  Paper,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Toolbar,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Post from \"../components/Post\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { root_url } from \"../config/config\";\r\nimport gintama from \"../res/Gintama.jpeg\";\r\nimport SimpleDialog from \"../components/Dialog\";\r\nimport makeRequest from \"../utils/network\";\r\nimport Header from \"../components/Header\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    position: \"relative\",\r\n    minHeight: 200,\r\n  },\r\n  fab: {\r\n    position: \"fixed\",\r\n    bottom: theme.spacing(2),\r\n    right: theme.spacing(2),\r\n    backgroundColor: \"#1565c0\",\r\n  },\r\n  card: {\r\n    paddingTop: theme.spacing(0.5),\r\n  },\r\n  errorCard: {\r\n    padding: theme.spacing(3),\r\n    textAlign: \"justify\",\r\n  },\r\n  errorMessage: {\r\n    width: \"100%\",\r\n    padding: theme.spacing(1),\r\n    color: \"Red\",\r\n  },\r\n}));\r\n\r\nconst usePostSearch = (pageNumber) => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(false);\r\n  const [hasMore, setHasMore] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    setError(false);\r\n    let cancel;\r\n    console.log(pageNumber);\r\n    axios({\r\n      method: \"GET\",\r\n      url: root_url + \"/post\",\r\n      params: { page: pageNumber },\r\n      cancelToken: new axios.CancelToken((c) => (cancel = c)),\r\n    })\r\n      .then((res) => {\r\n        setPosts((posts) => {\r\n          return posts.concat(res.data);\r\n        });\r\n        setHasMore(res.data.length > 0);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        if (axios.isCancel(err)) return;\r\n        if (error.response) {\r\n          //reserved for future use\r\n          switch (error.response.status) {\r\n            case 429:\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n        setLoading(false);\r\n        setError(true);\r\n        console.log(err);\r\n      });\r\n  }, [pageNumber]);\r\n\r\n  return { loading, error, posts, hasMore };\r\n};\r\n\r\nconst Gallery = (props) => {\r\n  const classes = useStyles();\r\n  const [pageNumber, setPageNumber] = useState(0);\r\n  const [openDialog, setOpenDialog] = useState(false);\r\n  const [delIndex, setDelIndex] = useState(0);\r\n  const [token, setToken] = useState(\"\");\r\n  const [tokenError, setTokenError] = useState(true);\r\n  const { posts, loading, error, hasMore } = usePostSearch(pageNumber);\r\n\r\n  const observer = useRef();\r\n  const lastPostRef = useCallback(\r\n    (node) => {\r\n      if (loading) return;\r\n      if (observer.current) observer.current.disconnect();\r\n      observer.current = new IntersectionObserver((entries) => {\r\n        if (entries[0].isIntersecting && hasMore) {\r\n          setPageNumber(pageNumber + 1);\r\n        }\r\n      });\r\n      if (node) observer.current.observe(node);\r\n    },\r\n    [loading, hasMore]\r\n  );\r\n\r\n  const loadingButton = () => {\r\n    if (loading && !error) {\r\n      return (\r\n        <div className={classes.card}>\r\n          <CircularProgress />\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  const errorMessage = () => {\r\n    if (error) {\r\n      return (\r\n        <div className={classes.card}>\r\n          <Paper className={classes.errorCard}>\r\n            <Typography variant=\"h5\" className={classes.errorMessage}>\r\n              Oops, looks like we failed to load the content. It is because\r\n              either you need a new service provider or the backend server is on\r\n              its vacation. It is definitely not due to any technical issues.\r\n            </Typography>\r\n            <img src={gintama} alt=\"error\" className={classes.errorMessage} />\r\n            <Typography\r\n              variant=\"h5\"\r\n              className={classes.errorMessage}\r\n              style={{ textAlign: \"center\" }}\r\n            >\r\n              Refresh the page to retry\r\n            </Typography>\r\n          </Paper>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleOpenDialog = async (index) => {\r\n    setOpenDialog(true);\r\n    await setDelIndex(index);\r\n    console.log(index);\r\n  };\r\n\r\n  const handleCloseDialog = () => {\r\n    setOpenDialog(false);\r\n  };\r\n\r\n  const handleTokenChange = (event) => {\r\n    setToken(event.target.value);\r\n    if (event.target.value.length > 0) {\r\n      setTokenError(false);\r\n    } else {\r\n      setTokenError(true);\r\n    }\r\n  };\r\n\r\n  const handleDeletePost = async () => {\r\n    try {\r\n      let result = await makeRequest(\r\n        \"/post/\" + posts[delIndex].id,\r\n        \"delete\",\r\n        token,\r\n        \"application/json\",\r\n        {\r\n          id: posts[delIndex].id,\r\n        }\r\n      );\r\n      console.log(result);\r\n      window.location.reload(true);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Header />\r\n      <Toolbar />\r\n      <Grid container spacing={1}>\r\n        <Grid item lg={3}></Grid>\r\n\r\n        <Grid item xs={12} lg={6}>\r\n          {posts.map((post, index) => {\r\n            if (posts.length === index + 1) {\r\n              return (\r\n                <div className={classes.card} ref={lastPostRef} key={post.id}>\r\n                  <Post\r\n                    data={post}\r\n                    index={index}\r\n                    handleOpenDialog={handleOpenDialog}\r\n                  />\r\n                </div>\r\n              );\r\n            } else {\r\n              return (\r\n                <div className={classes.card} key={post.id}>\r\n                  <Post\r\n                    data={post}\r\n                    index={index}\r\n                    handleOpenDialog={handleOpenDialog}\r\n                  />\r\n                </div>\r\n              );\r\n            }\r\n          })}\r\n\r\n          <SimpleDialog\r\n            open={openDialog}\r\n            onClose={handleCloseDialog}\r\n            Notification={`Do you really want to delete the post?`}\r\n            content={\r\n              <div key=\"content\">\r\n                <TextField\r\n                  id=\"text\"\r\n                  label=\"Token\"\r\n                  type=\"text\"\r\n                  error={tokenError}\r\n                  onChange={handleTokenChange}\r\n                />\r\n              </div>\r\n            }\r\n            action={\r\n              <div>\r\n                <Button onClick={handleDeletePost}>Yes</Button>\r\n                <Button onClick={handleCloseDialog}>No</Button>\r\n              </div>\r\n            }\r\n          />\r\n          {loadingButton()}\r\n          {errorMessage()}\r\n        </Grid>\r\n\r\n        <Grid item lg={3}></Grid>\r\n      </Grid>\r\n\r\n      <Link to=\"/newpost\" style={{ textDecoration: \"none\" }}>\r\n        <Fab color=\"primary\" className={classes.fab} aria-label=\"add\">\r\n          <AddIcon />\r\n        </Fab>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Gallery;\r\n","export default __webpack_public_path__ + \"static/media/avatar.bbf1fb1e.jpg\";","import React from \"react\";\r\nimport { Typography, Avatar, List, ListItem, Link } from \"@material-ui/core\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport pic1 from \"../res/avatar.jpg\";\r\nimport EmailIcon from \"@material-ui/icons/Email\";\r\nimport PhoneIcon from \"@material-ui/icons/Phone\";\r\nimport LinkedInIcon from \"@material-ui/icons/LinkedIn\";\r\nimport GitHubIcon from \"@material-ui/icons/GitHub\";\r\nimport InstagramIcon from \"@material-ui/icons/Instagram\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    position: \"relative\",\r\n    justifyContent: \"center\",\r\n  },\r\n  list: { paddingTop: 100 },\r\n  listItem: {\r\n    position: \"relative\",\r\n    justifyContent: \"center\",\r\n  },\r\n  image: {\r\n    position: \"absolute\",\r\n    width: 170,\r\n    height: 170,\r\n    backgroundColor: \"gray\",\r\n  },\r\n  text: {\r\n    padding: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nconst Sidebar = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <List component=\"ul\" aria-label=\"sidebar_list\" className={classes.list}>\r\n        <ListItem className={classes.listItem}>\r\n          <Avatar alt=\"Tianyang Zhang\" src={pic1} className={classes.image} />\r\n        </ListItem>\r\n        <ListItem className={classes.listItem} style={{ paddingTop: 100 }}>\r\n          <Typography\r\n            variant=\"h5\"\r\n            style={{ fontFamily: \"Open Sans\", fontWeight: 700 }}\r\n            className={classes.text}\r\n          >\r\n            {\" \"}\r\n            Tianyang Zhang\r\n          </Typography>\r\n        </ListItem>\r\n        <ListItem className={classes.listItem}>\r\n          <List>\r\n            <ListItem className={classes.listItem}>\r\n              <EmailIcon />\r\n              <Typography className={classes.text}>\r\n                zhangtianyangsky@gmail.com\r\n              </Typography>\r\n            </ListItem>\r\n            <ListItem className={classes.listItem}>\r\n              <PhoneIcon />\r\n              <Typography className={classes.text}>(614) 852-0566</Typography>\r\n            </ListItem>\r\n          </List>\r\n        </ListItem>\r\n        <ListItem className={classes.listItem}>\r\n          <List>\r\n            <ListItem className={classes.listItem}>\r\n              <Typography>About Me</Typography>\r\n            </ListItem>\r\n            <ListItem className={classes.listItem}>\r\n              <Typography>Skills</Typography>\r\n            </ListItem>\r\n            <ListItem className={classes.listItem}>\r\n              <Typography>Projects</Typography>\r\n            </ListItem>\r\n            <ListItem className={classes.listItem}>\r\n              <Typography>Contact Me</Typography>\r\n            </ListItem>\r\n          </List>\r\n        </ListItem>{\" \"}\r\n        <ListItem className={classes.listItem}>\r\n          <List>\r\n            <ListItem className={classes.listItem}>\r\n              <Link\r\n                href=\"https://www.linkedin.com/in/tianyang-zhang-sky/\"\r\n                color=\"inherit\"\r\n              >\r\n                <LinkedInIcon />\r\n              </Link>\r\n            </ListItem>\r\n            <ListItem className={classes.listItem}>\r\n              <Link href=\"https://github.com/SkyZhangT\" color=\"inherit\">\r\n                <GitHubIcon />\r\n              </Link>\r\n            </ListItem>\r\n            <ListItem className={classes.listItem}>\r\n              <Link\r\n                href=\"https://www.instagram.com/tianyan_zhang/\"\r\n                color=\"inherit\"\r\n              >\r\n                <InstagramIcon />\r\n              </Link>\r\n            </ListItem>\r\n          </List>\r\n        </ListItem>\r\n        <ListItem className={classes.listItem}>\r\n          <Typography style={{ color: \"gray\", textAlign: \"center\" }}>\r\n            Made with React, Material-ui, and some love\r\n            <FavoriteIcon />.\r\n          </Typography>\r\n        </ListItem>\r\n      </List>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","export default __webpack_public_path__ + \"static/media/bkg1.95092767.jpg\";","export default __webpack_public_path__ + \"static/media/bkg2.c176812d.jpg\";","export default __webpack_public_path__ + \"static/media/port1.5b58f441.png\";","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport Hidden from \"@material-ui/core/Hidden\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport Sidebar from \"../components/Sidebar\";\r\nimport {\r\n  Button,\r\n  Container,\r\n  Grid,\r\n  Paper,\r\n  Card,\r\n  CardActionArea,\r\n  CardContent,\r\n  CardMedia,\r\n} from \"@material-ui/core\";\r\nimport bkg1 from \"../res/bkg1.jpg\";\r\nimport bkg2 from \"../res/bkg2.jpg\";\r\nimport Header from \"../components/Header\";\r\nimport port1 from \"../res/port1.png\";\r\nimport pic1 from \"../res/bkg1.jpg\";\r\nimport InsertDriveFileIcon from \"@material-ui/icons/InsertDriveFile\";\r\nimport DevicesIcon from \"@material-ui/icons/Devices\";\r\n\r\nconst drawerWidth = 20;\r\nconst minWidth = 290;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    width: \"100%\",\r\n  },\r\n  drawer: {\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      width: `${drawerWidth}%`,\r\n      minWidth: minWidth,\r\n      flexShrink: 0,\r\n    },\r\n    justifyContent: \"center\",\r\n  },\r\n  menuButton: {\r\n    position: \"fixed\",\r\n    bottom: theme.spacing(2),\r\n    left: theme.spacing(2),\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n  // necessary for content to be below app bar\r\n  toolbar: theme.mixins.toolbar,\r\n  drawerPaper: {\r\n    backgroundColor: \"#eeeeee\",\r\n    width: `${drawerWidth}%`,\r\n    minWidth: minWidth,\r\n    zIndex: 3,\r\n  },\r\n  content: {\r\n    position: \"flex\",\r\n    width: \"100%\",\r\n  },\r\n  container: {\r\n    width: \"100%\",\r\n    maxWidth: \"100%\",\r\n    marginLeft: 0,\r\n    marginRight: 0,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  introText: {\r\n    padding: 5,\r\n    fontFamily: \"Open Sans\",\r\n    color: \"white\",\r\n  },\r\n  aboutText: {\r\n    padding: 5,\r\n    fontFamily: \"Open Sans\",\r\n    color: \"primary\",\r\n    textAlign: \"left\",\r\n  },\r\n  skillText: {\r\n    padding: 5,\r\n    fontFamily: \"Open Sans\",\r\n    color: \"primary\",\r\n    textAlign: \"center\",\r\n  },\r\n  card: {\r\n    height: \"100%\",\r\n  },\r\n}));\r\n\r\nconst About = (props) => {\r\n  const { window } = props;\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [mobileOpen, setMobileOpen] = React.useState(false);\r\n  const Skills = [\r\n    {\r\n      title: \"Development\",\r\n      text:\r\n        \"asdfaswevadfsvaserfvbsefvsdfvszdfc vaserfdvarvadfvadfvaerfgserfbgvs fvzdcvaserfbaf vbazsdcvzs\",\r\n      image: \"todo\",\r\n    },\r\n    { title: \"Development\", text: \"todo\", image: pic1 },\r\n    { title: \"Development\", text: \"todo\", image: \"todo\" },\r\n    { title: \"Development\", text: \"todo\", image: \"todo\" },\r\n    { title: \"Development\", text: \"todo\", image: \"todo\" },\r\n    { title: \"Development\", text: \"todo\", image: \"todo\" },\r\n    { title: \"Development\", text: \"todo\", image: \"todo\" },\r\n  ];\r\n\r\n  const handleDrawerToggle = () => {\r\n    setMobileOpen(!mobileOpen);\r\n  };\r\n\r\n  const container =\r\n    window !== undefined ? () => window().document.body : undefined;\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <Header isAbout={true} />\r\n      <nav className={classes.drawer} aria-label=\"mailbox folders\">\r\n        <Hidden smDown implementation=\"css\">\r\n          <Drawer\r\n            classes={{\r\n              paper: classes.drawerPaper,\r\n            }}\r\n            variant=\"persistent\"\r\n            open\r\n          >\r\n            <div className={classes.toolbar} />\r\n            <Sidebar />\r\n          </Drawer>\r\n        </Hidden>\r\n        <Hidden mdUp implementation=\"css\">\r\n          <Drawer\r\n            container={container}\r\n            variant=\"temporary\"\r\n            anchor={theme.direction === \"rtl\" ? \"right\" : \"left\"}\r\n            open={mobileOpen}\r\n            onClose={handleDrawerToggle}\r\n            classes={{\r\n              paper: classes.drawerPaper,\r\n            }}\r\n            ModalProps={{\r\n              keepMounted: true, // Better open performance on mobile.\r\n            }}\r\n          >\r\n            <Toolbar />\r\n            <Sidebar />\r\n          </Drawer>\r\n        </Hidden>\r\n      </nav>\r\n      <main className={classes.content}>\r\n        <Toolbar className={classes.toolbar} />\r\n        <Container\r\n          style={{\r\n            position: \"relative\",\r\n            height: 650,\r\n            backgroundPosition: \"20% 70%\",\r\n            backgroundRepeat: \"no-repeat\",\r\n            backgroundImage: `url(${bkg2})`,\r\n            backgroundSize: \"cover\",\r\n            paddingTop: 100,\r\n          }}\r\n          className={classes.container}\r\n        >\r\n          <Typography\r\n            variant=\"h6\"\r\n            className={classes.introText}\r\n            style={{ fontWeight: 300 }}\r\n          >\r\n            Hello,\r\n          </Typography>\r\n          <Typography\r\n            variant=\"h4\"\r\n            className={classes.introText}\r\n            style={{ fontWeight: 700 }}\r\n          >\r\n            I am Tianyang Zhang\r\n          </Typography>\r\n          <Typography\r\n            variant=\"h6\"\r\n            className={classes.introText}\r\n            style={{ fontWeight: 500 }}\r\n          >\r\n            Photographer & Fullstack Developer\r\n          </Typography>\r\n        </Container>\r\n\r\n        <Container\r\n          id=\"About Me\"\r\n          style={{\r\n            backgroundColor: \"#fafafa\",\r\n            paddingTop: 0,\r\n            justifyContent: \"left\",\r\n          }}\r\n          className={classes.container}\r\n        >\r\n          <Grid container>\r\n            <Grid\r\n              item\r\n              xs={12}\r\n              lg={6}\r\n              style={{ justifyContent: \"left\", alignItems: \"left\" }}\r\n            >\r\n              <Typography\r\n                variant=\"h3\"\r\n                className={classes.aboutText}\r\n                style={{ fontWeight: 700, paddingTop: 100 }}\r\n              >\r\n                About Me\r\n              </Typography>\r\n              <Typography\r\n                variant=\"h6\"\r\n                className={classes.aboutText}\r\n                style={{ fontWeight: 500, color: \"gray\" }}\r\n              >\r\n                Photographer & Fullstack Developer,\r\n              </Typography>\r\n              <Typography\r\n                variant=\"h6\"\r\n                className={classes.aboutText}\r\n                style={{ fontWeight: 400 }}\r\n              >\r\n                I am Tianyang Zhang, I enjoy photograpy as well as design and\r\n                develope software systems. While my background in computer\r\n                science gave me adequate knowledge and skills to solve technical\r\n                problems as a software engineer, my experience as a photographer\r\n                elevated my aesthetics to appreciate and enjoy my life as a\r\n                person. As a fullstack developer, I am capable of developing\r\n                both backend APIs and services and frontend interfaces.\r\n              </Typography>\r\n              <Button\r\n                variant=\"outlined\"\r\n                style={{\r\n                  margin: 30,\r\n                  backgroundColor: \"#0a1c38\",\r\n                }}\r\n              >\r\n                <InsertDriveFileIcon style={{ color: \"white\", margin: 7 }} />\r\n                <Typography\r\n                  variant=\"h6\"\r\n                  style={{ color: \"white\", fontWeight: 500, margin: 7 }}\r\n                >\r\n                  Download Resume\r\n                </Typography>\r\n              </Button>\r\n            </Grid>\r\n            <Grid item xs={12} lg={6}>\r\n              <img\r\n                src={port1}\r\n                style={{\r\n                  width: \"100%\",\r\n                  maxHeight: 600,\r\n                  objectFit: \"cover\",\r\n                  objectPosition: \"top\",\r\n                  overflow: \"hidden\",\r\n                  marginBottom: 0,\r\n                }}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n\r\n        <Container\r\n          id=\"Skill\"\r\n          style={{ backgroundColor: \"white\", paddingBottom: 50 }}\r\n          className={classes.container}\r\n        >\r\n          <Typography\r\n            variant=\"h3\"\r\n            className={classes.skillText}\r\n            style={{ fontWeight: 700, paddingTop: 100 }}\r\n          >\r\n            What I'am Doing\r\n          </Typography>\r\n          <Typography\r\n            variant=\"h5\"\r\n            className={classes.skillText}\r\n            style={{ fontWeight: 500, color: \"gray\" }}\r\n          >\r\n            I love what I do. I take great pride in what I do.\r\n          </Typography>\r\n          <Grid container spacing={4} style={{ paddingTop: 50 }}>\r\n            {Skills.map((s, index) => {\r\n              console.log(s);\r\n              return (\r\n                <Grid item xs={12} md={6} lg={3} key={`${index}`}>\r\n                  <Card id={`card ${index}`} className={classes.card}>\r\n                    <CardActionArea className={classes.card}>\r\n                      <CardMedia\r\n                        image={s.image}\r\n                        title=\"Contemplative Reptile\"\r\n                        style={{ height: 140 }}\r\n                      />\r\n                      <CardContent className={classes.card}>\r\n                        <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                          {s.title}\r\n                        </Typography>\r\n                        <Typography\r\n                          variant=\"body2\"\r\n                          color=\"textSecondary\"\r\n                          component=\"p\"\r\n                        >\r\n                          {s.text}\r\n                        </Typography>\r\n                      </CardContent>\r\n                    </CardActionArea>\r\n                  </Card>\r\n                </Grid>\r\n              );\r\n            })}\r\n          </Grid>\r\n        </Container>\r\n\r\n        <Container\r\n          id=\"Projects\"\r\n          style={{ backgroundColor: \"#fafafa\" }}\r\n          className={classes.container}\r\n        >\r\n          {\" \"}\r\n          <Typography\r\n            variant=\"h3\"\r\n            className={classes.skillText}\r\n            style={{ fontWeight: 700, paddingTop: 100 }}\r\n          >\r\n            My Portfolio\r\n          </Typography>\r\n          <Typography\r\n            variant=\"h5\"\r\n            className={classes.skillText}\r\n            style={{ fontWeight: 500, color: \"gray\" }}\r\n          >\r\n            I am passionate about every project I participate in\r\n          </Typography>\r\n        </Container>\r\n      </main>\r\n      <Fab\r\n        color=\"inherit\"\r\n        aria-label=\"open drawer\"\r\n        edge=\"start\"\r\n        onClick={handleDrawerToggle}\r\n        className={classes.menuButton}\r\n      >\r\n        <MenuIcon />\r\n      </Fab>\r\n    </div>\r\n  );\r\n};\r\n\r\nAbout.propTypes = {\r\n  /**\r\n   * Injected by the documentation to work in an iframe.\r\n   * You won't need it on your project.\r\n   */\r\n  window: PropTypes.func,\r\n};\r\n\r\nexport default About;\r\n","const getFormattedDate = () => {\r\n  const newDate = new Date();\r\n  let day = newDate.getUTCDate().toString();\r\n  let month = (newDate.getUTCMonth() + 1).toString();\r\n  let year = newDate.getUTCFullYear().toString();\r\n  if (day.length < 2) day = \"0\" + day;\r\n  if (month.length < 2) month = \"0\" + month;\r\n\r\n  return year + \"-\" + month + \"-\" + day;\r\n};\r\n\r\nexport default getFormattedDate;\r\n","import React from \"react\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\nfunction LinearProgressWithLabel(props) {\r\n  var color = \"primary\";\r\n  if (props.status < 0) {\r\n    color = \"secondary\";\r\n  }\r\n  const success = () => {\r\n    if (props.status === 0) {\r\n      return `${Math.round(props.value)}%`;\r\n    } else if (props.status === 1) {\r\n      return `Finished`;\r\n    } else if (props.status === -1) {\r\n      return `Error`;\r\n    } else {\r\n      return `Ready`;\r\n    }\r\n  };\r\n  return (\r\n    <Box display=\"flex\" alignItems=\"center\">\r\n      <Box width=\"100%\" mr={1}>\r\n        <LinearProgress color={color} variant=\"determinate\" {...props} />\r\n      </Box>\r\n      <Box minWidth={35}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\">\r\n          {success()}\r\n        </Typography>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default LinearProgressWithLabel;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Typography,\r\n  Grid,\r\n  Paper,\r\n  TextField,\r\n  Button,\r\n  IconButton,\r\n  CircularProgress,\r\n  Toolbar,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport getFormattedDate from \"../utils/misc\";\r\nimport makeRequest from \"../utils/network\";\r\nimport SimpleDialog from \"../components/Dialog\";\r\nimport LinearProgressWithLabel from \"../components/ProgressBar\";\r\nimport PublishIcon from \"@material-ui/icons/Publish\";\r\nimport AddPhotoAlternateIcon from \"@material-ui/icons/AddPhotoAlternate\";\r\nimport Header from \"../components/Header\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    position: \"relative\",\r\n    minHeight: \"200px\",\r\n    padding: \"1rem\",\r\n  },\r\n  line: {\r\n    paddingTop: theme.spacing(1),\r\n  },\r\n  textField: {\r\n    width: \"95%\",\r\n  },\r\n  image: {\r\n    maxWidth: \"95%\",\r\n  },\r\n  input: {\r\n    display: \"none\",\r\n  },\r\n  imageButton: {\r\n    backgroundColor: \"black\",\r\n    color: \"gray\",\r\n  },\r\n  publishButton: {\r\n    backgroundColor: \"inherit\",\r\n    color: \"orange\",\r\n  },\r\n}));\r\n\r\nconst NewPost = (props) => {\r\n  const classes = useStyles();\r\n  const [selectedImages, selectNew] = useState([]);\r\n  const [uploadFiles, setUploadFiles] = useState([]);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [location, setLocation] = useState(\"\");\r\n  const [date, setDate] = useState(Date.now());\r\n  const [token, setToken] = useState(\"\");\r\n  const [titleError, setTitleError] = useState(true);\r\n  const [bodyError, setBodyError] = useState(true);\r\n  const [locationError, setLocationError] = useState(true);\r\n  const [dateError, setDateError] = useState(false);\r\n  const [tokenError, setTokenError] = useState(true);\r\n  const [imageLoading, setImageLoading] = useState(false);\r\n  const [openDialog, setOpenDialog] = useState(false);\r\n  const [progress, setProgress] = useState(0);\r\n  const [transferState, setTransferState] = useState(2);\r\n\r\n  // title input logic\r\n  const handleTitleChange = (event) => {\r\n    setTitle(event.target.value);\r\n    if (event.target.value.length > 0) {\r\n      setTitleError(false);\r\n    } else {\r\n      setTitleError(true);\r\n    }\r\n  };\r\n\r\n  // set body description\r\n  const handleBodyChange = (event) => {\r\n    setBody(event.target.value);\r\n    if (event.target.value.length > 0) {\r\n      setBodyError(false);\r\n    } else {\r\n      setBodyError(true);\r\n    }\r\n  };\r\n\r\n  const handleLocationChange = (event) => {\r\n    setLocation(event.target.value);\r\n    if (event.target.value.length > 0) {\r\n      setLocationError(false);\r\n    } else {\r\n      setLocationError(true);\r\n    }\r\n  };\r\n\r\n  // set token\r\n  const handleTokenChange = (event) => {\r\n    setToken(event.target.value);\r\n    if (event.target.value.length > 0) {\r\n      setTokenError(false);\r\n    } else {\r\n      setTokenError(true);\r\n    }\r\n  };\r\n\r\n  // set date\r\n  const handleDateChange = (event) => {\r\n    let dateStr = event.target.value.split(\"-\");\r\n    let newDate = new Date(dateStr[0], dateStr[1] - 1, dateStr[2]);\r\n    if (newDate.getTime() == null || newDate.getTime() > Date.now()) {\r\n      setDateError(true);\r\n    } else {\r\n      setDateError(false);\r\n      setDate(newDate.getTime());\r\n    }\r\n  };\r\n\r\n  // image selecting logic\r\n  const handleAddImage = (event) => {\r\n    setImageLoading(true);\r\n    let data = [];\r\n    const reader = new FileReader();\r\n    for (const f of event.target.files) {\r\n      uploadFiles.push(f);\r\n    }\r\n\r\n    const readFile = (index) => {\r\n      let file = event.target.files[index];\r\n      if (index >= event.target.files.length) {\r\n        selectNew(selectedImages.concat(data));\r\n        setImageLoading(false);\r\n        return;\r\n      }\r\n      reader.onload = (event) => {\r\n        data = data.concat(reader.result);\r\n        readFile(index + 1);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    };\r\n\r\n    readFile(0);\r\n  };\r\n\r\n  // image remove logic\r\n  const handleRemoveImage = (index) => {\r\n    return () => {\r\n      selectedImages.splice(index, 1);\r\n      selectNew(selectedImages.concat([]));\r\n      uploadFiles.splice(index, 1);\r\n      setUploadFiles(uploadFiles.concat([]));\r\n    };\r\n  };\r\n\r\n  // display loading circle\r\n  const loading = () => {\r\n    if (imageLoading) {\r\n      return (\r\n        <div className={classes.line}>\r\n          <CircularProgress />\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleOpenDialog = () => {\r\n    setOpenDialog(true);\r\n  };\r\n\r\n  const handleCloseDialog = () => {\r\n    setOpenDialog(false);\r\n  };\r\n\r\n  // upload logic\r\n  const handleUpload = async (e) => {\r\n    if (\r\n      titleError ||\r\n      bodyError ||\r\n      dateError ||\r\n      locationError ||\r\n      uploadFiles.length === 0\r\n    ) {\r\n      handleOpenDialog();\r\n      return;\r\n    }\r\n    setProgress(0);\r\n    setTransferState(0);\r\n\r\n    const total = uploadFiles.length + 1;\r\n    var images = [];\r\n    for (let i = 0; i < uploadFiles.length; i++) {\r\n      let formdata = new FormData();\r\n      formdata.append(\"image\", uploadFiles[i]);\r\n\r\n      try {\r\n        let result = await makeRequest(\r\n          \"/image\",\r\n          \"post\",\r\n          token,\r\n          \"multipart/form-data\",\r\n          formdata\r\n        );\r\n        if (result.status === 200 || result.status === 208) {\r\n          images.push(result.data);\r\n          setProgress((100 * (i + 1)) / total);\r\n        } else {\r\n          setTransferState(-1);\r\n          return;\r\n        }\r\n      } catch (err) {\r\n        setTransferState(-1);\r\n        return;\r\n      }\r\n    }\r\n\r\n    try {\r\n      let result = await makeRequest(\r\n        \"/post\",\r\n        \"post\",\r\n        token,\r\n        \"application/json\",\r\n        {\r\n          user: \"Sky Zhang\",\r\n          title: title,\r\n          location: location,\r\n          time: date,\r\n          text: body,\r\n          images: images,\r\n          likes: 0,\r\n        }\r\n      );\r\n      if (result.status === 200) {\r\n        setProgress(100);\r\n        setTransferState(1);\r\n      } else {\r\n        setTransferState(-1);\r\n        return;\r\n      }\r\n    } catch (err) {\r\n      setTransferState(-1);\r\n      return;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <Toolbar />\r\n      <Grid container spacing={1}>\r\n        <Grid item lg={3}></Grid>\r\n\r\n        <Grid item xs={12} lg={6}>\r\n          <Paper className={classes.root}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} md={4}>\r\n                <TextField\r\n                  id=\"title\"\r\n                  label=\"Title\"\r\n                  type=\"text\"\r\n                  error={titleError}\r\n                  className={classes.textField}\r\n                  onChange={handleTitleChange}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} md={4}>\r\n                <TextField\r\n                  id=\"location\"\r\n                  label=\"Location\"\r\n                  type=\"text\"\r\n                  error={titleError}\r\n                  className={classes.textField}\r\n                  onChange={handleLocationChange}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} md={4}>\r\n                <TextField\r\n                  id=\"date\"\r\n                  label=\"Date\"\r\n                  type=\"date\"\r\n                  error={dateError}\r\n                  defaultValue={getFormattedDate()}\r\n                  InputLabelProps={{\r\n                    shrink: true,\r\n                  }}\r\n                  className={classes.textField}\r\n                  onChange={handleDateChange}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} md={12}>\r\n                <TextField\r\n                  id=\"text\"\r\n                  label=\"Description\"\r\n                  type=\"text\"\r\n                  error={bodyError}\r\n                  rows={4}\r\n                  rowsMax={4}\r\n                  multiline\r\n                  className={classes.textField}\r\n                  onChange={handleBodyChange}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n\r\n            {selectedImages.map((img, index) => (\r\n              <div className={classes.line} key={\"img\" + index.toString()}>\r\n                <img\r\n                  src={img}\r\n                  className={classes.image}\r\n                  onClick={handleRemoveImage(index)}\r\n                  alt=\"Failed to load\"\r\n                />\r\n              </div>\r\n            ))}\r\n\r\n            {loading()}\r\n\r\n            <div className={classes.line}>\r\n              <input\r\n                accept=\"image/*\"\r\n                className={classes.input}\r\n                id=\"image\"\r\n                multiple\r\n                type=\"file\"\r\n                onChange={handleAddImage}\r\n              />\r\n              <label htmlFor=\"image\">\r\n                <IconButton\r\n                  component=\"span\"\r\n                  className={classes.imageButton}\r\n                  variant=\"outlined\"\r\n                >\r\n                  <AddPhotoAlternateIcon />\r\n                </IconButton>\r\n              </label>\r\n            </div>\r\n\r\n            <div className={classes.line}>\r\n              <TextField\r\n                id=\"token\"\r\n                label=\"Pass Token\"\r\n                type=\"text\"\r\n                error={tokenError}\r\n                className={classes.title}\r\n                onChange={handleTokenChange}\r\n              />\r\n            </div>\r\n\r\n            <div className={classes.line}>\r\n              <Button\r\n                className={classes.publishButton}\r\n                variant=\"outlined\"\r\n                onClick={handleUpload}\r\n                disabled={transferState === 0}\r\n              >\r\n                <PublishIcon></PublishIcon>\r\n                <Typography>Publish</Typography>\r\n              </Button>\r\n            </div>\r\n\r\n            <div className={classes.line}>\r\n              <LinearProgressWithLabel\r\n                variant=\"determinate\"\r\n                status={transferState}\r\n                value={progress}\r\n              />\r\n            </div>\r\n\r\n            <SimpleDialog\r\n              open={openDialog}\r\n              onClose={handleCloseDialog}\r\n              Notification=\"Invalid Post\"\r\n              action={\r\n                <Button\r\n                  autoFocus\r\n                  onClick={handleCloseDialog}\r\n                  color=\"primary\"\r\n                  style={{ margin: 0 }}\r\n                >\r\n                  ok\r\n                </Button>\r\n              }\r\n            />\r\n          </Paper>\r\n        </Grid>\r\n\r\n        <Grid item lg={3}></Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewPost;\r\n","import { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport \"./App.css\";\r\nimport Gallery from \"./pages/Gallery\";\r\nimport About from \"./pages/About\";\r\nimport NewPost from \"./pages/NewPost\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Gallery} />\r\n          <Route exact path=\"/about\" component={About} />\r\n          <Route exact path=\"/newpost\" component={NewPost} />\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}