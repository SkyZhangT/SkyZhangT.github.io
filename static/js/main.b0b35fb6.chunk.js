(this.webpackJsonphomepage=this.webpackJsonphomepage||[]).push([[0],{116:function(e,t,a){},117:function(e,t,a){},144:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(10),r=a.n(i),s=(a(116),a(40)),o=a(11),l=(a(117),a(193)),j=a(194),b=a(183),d=a(14),u=a(187),h=a(188),x=a(190),m=a(191),p=a(192),O=a(206),g=a(189),f=a(31),v=a(61),k=a(90),N=a.n(k),y=a(91),S=a.n(y),w=a(89),C=a.n(w),T=a(92),D=a.n(T),F=a(185),P=a(88),M=a.n(P),A=a(87),B=a.n(A),L=a(2),H=Object(b.a)((function(e){return{root:{paddingTop:e.spacing(.5)},card:{height:"100%"},media:{paddingTop:"80.25%",position:"relative",minHeight:"100%",minWidth:"100%"},navbeforebutton:{position:"absolute",background:"transparent",color:"black",top:"0",left:"0",minHeight:"100%",minWidth:"10%"},navnextbutton:{position:"absolute",background:"transparent",color:"black",top:"0",right:"0",minHeight:"100%",minWidth:"10%"},comment:{marginLeft:"auto"},avatar:{backgroundColor:v.a[500]}}})),I=function(e){var t=H(),a=c.a.useState(0),n=Object(d.a)(a,2),i=n[0],r=n[1],s=e.data.image.length,o=function(){r(i+1===s?0:i+1)},l=function(){r(0===i?s-1:i-1)};return Object(L.jsx)("div",{className:t.root,children:Object(L.jsxs)(u.a,{raised:!1,children:[Object(L.jsx)(h.a,{avatar:Object(L.jsx)(O.a,{"aria-label":"recipe",className:t.avatar,children:e.data.username}),action:Object(L.jsx)(g.a,{"aria-label":"settings",children:Object(L.jsx)(C.a,{})}),title:e.data.title,subheader:e.data.date}),Object(L.jsx)(x.a,{className:t.media,image:e.data.image[i],title:e.data.imagetitle,children:(console.log(e.data.image.length),e.data.image.length>1?Object(L.jsxs)(c.a.Fragment,{children:[Object(L.jsx)(F.a,{className:t.navbeforebutton,onClick:l,children:Object(L.jsx)(B.a,{fontSize:"large"})}),Object(L.jsx)(F.a,{className:t.navnextbutton,onClick:o,children:Object(L.jsx)(M.a,{fontSize:"large"})})]}):void 0)}),Object(L.jsx)(m.a,{children:Object(L.jsx)(f.a,{variant:"body2",color:"textSecondary",component:"p",children:e.data.text})}),Object(L.jsxs)(p.a,{disableSpacing:!0,children:[Object(L.jsx)(g.a,{"aria-label":"favorites",children:Object(L.jsx)(N.a,{})}),Object(L.jsx)(g.a,{"aria-label":"share",children:Object(L.jsx)(S.a,{})}),Object(L.jsx)(g.a,{className:t.comment,"aria-label":"comment",children:Object(L.jsx)(D.a,{})})]})]})})},W=(a.p,a.p+"static/media/pic2.959e5312.jpg"),z=a(93),U=a.n(z),J={_id:"5264651",username:"SZ",title:"OMS",date:"2020 Jan 1",image:[W],text:"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like."},E=Object(b.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,position:"relative",minHeight:200},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),R=function(e){var t=E();return Object(L.jsxs)("div",{className:t.root,children:[Object(L.jsxs)(l.a,{container:!0,spacing:1,children:[Object(L.jsx)(l.a,{item:!0,lg:3}),Object(L.jsxs)(l.a,{item:!0,xs:12,lg:6,children:[Object(L.jsx)(I,{data:J}),Object(L.jsx)(I,{data:J})]}),Object(L.jsx)(l.a,{item:!0,lg:3})]}),Object(L.jsx)(s.b,{to:"/newpost",style:{textDecoration:"none"},children:Object(L.jsx)(j.a,{color:"primary",className:t.fab,"aria-label":"add",children:Object(L.jsx)(U.a,{})})})]})},Z=function(e){return Object(L.jsx)("main",{children:Object(L.jsx)(f.a,{variant:"h1",children:"This is about"})})},G=a(70),K=a.n(G),V=a(94),Y=a(95),_=a(200),q=a(71),Q=a(204),X=function(){var e=new Date,t=e.getUTCDate().toString(),a=(e.getUTCMonth()+1).toString(),n=e.getUTCFullYear().toString();return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),n+"-"+a+"-"+t},$=a(96),ee=a.n($),te=function(e,t,a,n){return new Promise((function(c,i){ee()({url:e,method:t,data:n,headers:{"Content-Type":a}}).then((function(e){console.log(e),c(e)})).catch((function(e){console.log(e),i(e)}))}))},ae=a(195),ne=a(196),ce=a(197),ie=a(198),re=Object(b.a)({confirm:{textAlign:"center"}});var se=function(e){var t=re(),a=e.onClose,n=e.open,c=e.Notification;return Object(L.jsxs)(ae.a,{onClose:function(){a()},"aria-labelledby":"simple-dialog-title",open:n,children:[Object(L.jsx)(ne.a,{id:"simple-dialog-title",children:c}),Object(L.jsx)(ce.a,{children:Object(L.jsx)(ie.a,{button:!0,onClick:function(){a()},children:Object(L.jsx)(f.a,{className:t.confirm,children:"OK"})})})]})},oe=a(97),le=a(199),je=a(205);var be=function(e){var t="primary";return e.status<0&&(t="secondary"),Object(L.jsxs)(je.a,{display:"flex",alignItems:"center",children:[Object(L.jsx)(je.a,{width:"100%",mr:1,children:Object(L.jsx)(le.a,Object(oe.a)({color:t,variant:"determinate"},e))}),Object(L.jsx)(je.a,{minWidth:35,children:Object(L.jsx)(f.a,{variant:"body2",color:"textSecondary",children:0===e.status?"".concat(Math.round(e.value),"%"):1===e.status?"Finished":-1===e.status?"Error":void 0})})]})},de=a(99),ue=a.n(de),he=a(98),xe=a.n(he),me=Object(b.a)((function(e){return{root:{position:"relative",minHeight:"200px",padding:"1rem"},line:{paddingTop:e.spacing(1)},title:{width:"45%",spacing:e.spacing(1)},date:{width:"45%",marginLeft:"5%"},description:{width:"95%"},image:{maxWidth:"95%"},input:{display:"none"},imageButton:{backgroundColor:"black",color:"gray"},publishButton:{backgroundColor:"inherit",color:"orange"}}})),pe=function(e){var t=me(),a=c.a.useState([]),n=Object(d.a)(a,2),i=n[0],r=n[1],s=c.a.useState([]),o=Object(d.a)(s,2),j=o[0],b=o[1],u=c.a.useState(""),h=Object(d.a)(u,2),x=h[0],m=h[1],p=c.a.useState(""),O=Object(d.a)(p,2),v=O[0],k=O[1],N=c.a.useState(Date.now()),y=Object(d.a)(N,2),S=y[0],w=y[1],C=c.a.useState(""),T=Object(d.a)(C,2),D=(T[0],T[1]),P=c.a.useState(!0),M=Object(d.a)(P,2),A=M[0],B=M[1],H=c.a.useState(!0),I=Object(d.a)(H,2),W=I[0],z=I[1],U=c.a.useState(!1),J=Object(d.a)(U,2),E=J[0],R=J[1],Z=c.a.useState(!0),G=Object(d.a)(Z,2),$=G[0],ee=G[1],ae=c.a.useState(!1),ne=Object(d.a)(ae,2),ce=ne[0],ie=ne[1],re=c.a.useState(!1),oe=Object(d.a)(re,2),le=oe[0],je=oe[1],de=c.a.useState(0),he=Object(d.a)(de,2),pe=he[0],Oe=he[1],ge=c.a.useState(0),fe=Object(d.a)(ge,2),ve=fe[0],ke=fe[1],Ne=function(e){return function(){i.splice(e,1),r(i.concat([])),j.splice(e,1),b(j.concat([]))}},ye=function(){var e=Object(V.a)(K.a.mark((function e(t){var a,n,c,i,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Oe(0),ke(0),!(A||W||E||0===j.length)){e.next=5;break}return je(!0),e.abrupt("return");case 5:a=j.length+1,n=[],c=0;case 8:if(!(c<j.length)){e.next=31;break}return(i=new FormData).append("image",j[c]),e.prev=11,e.next=14,te("http://localhost:8080/image","post","multipart/form-data",i);case 14:if(200!==(r=e.sent).status&&208!==r.status){e.next=20;break}n.push(r.data),Oe(100*(c+1)/a),e.next=22;break;case 20:return ke(-1),e.abrupt("return");case 22:e.next=28;break;case 24:return e.prev=24,e.t0=e.catch(11),ke(-1),e.abrupt("return");case 28:c++,e.next=8;break;case 31:return e.prev=31,e.next=34,te("http://localhost:8080/post","post","application/json",{user:"SkyZhang",title:x,time:S,text:v,images:n});case 34:if(200!==(r=e.sent).status){e.next=40;break}Oe(100),ke(1),e.next=42;break;case 40:return ke(-1),e.abrupt("return");case 42:e.next=48;break;case 44:return e.prev=44,e.t1=e.catch(31),ke(-1),e.abrupt("return");case 48:case"end":return e.stop()}}),e,null,[[11,24],[31,44]])})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsx)("div",{children:Object(L.jsxs)(l.a,{container:!0,spacing:1,children:[Object(L.jsx)(l.a,{item:!0,lg:3}),Object(L.jsx)(l.a,{item:!0,xs:12,lg:6,children:Object(L.jsxs)(q.a,{className:t.root,children:[Object(L.jsxs)("div",{className:t.line,children:[Object(L.jsx)(Q.a,{id:"title",label:"Title",type:"text",error:A,className:t.title,onChange:function(e){m(e.target.value),e.target.value.length>0?B(!1):B(!0)}}),Object(L.jsx)(Q.a,{id:"date",label:"Date",type:"date",error:E,defaultValue:X(),className:t.date,InputLabelProps:{shrink:!0},onChange:function(e){var t=e.target.value.split("-"),a=new Date(t[0],t[1]-1,t[2]);NaN==a.getTime()||a.getTime()>Date.now()?R(!0):(R(!1),console.log(a.getTime()),w(a.getTime()))}})]}),Object(L.jsx)("div",{className:t.line,children:Object(L.jsx)(Q.a,{id:"text",label:"Description",type:"text",error:W,rows:4,rowsMax:4,multiline:!0,className:t.description,onChange:function(e){k(e.target.value),e.target.value.length>0?z(!1):z(!0)}})}),i.map((function(e,a){return Object(L.jsx)("div",{className:t.line,children:Object(L.jsx)("img",{src:e,className:t.image,onClick:Ne(a),alt:"Failed to load"})},"img"+a.toString())})),function(){if(ce)return Object(L.jsx)("div",{className:t.line,children:Object(L.jsx)(_.a,{})})}(),Object(L.jsxs)("div",{className:t.line,children:[Object(L.jsx)("input",{accept:"image/*",className:t.input,id:"image",multiple:!0,type:"file",onChange:function(e){ie(!0);var t,a=[],n=new FileReader,c=Object(Y.a)(e.target.files);try{for(c.s();!(t=c.n()).done;){var s=t.value;j.push(s)}}catch(o){c.e(o)}finally{c.f()}!function t(c){var s=e.target.files[c];if(c>=e.target.files.length)return r(i.concat(a)),void ie(!1);n.onload=function(e){a=a.concat(n.result),t(c+1)},n.readAsDataURL(s)}(0)}}),Object(L.jsx)("label",{htmlFor:"image",children:Object(L.jsx)(g.a,{component:"span",className:t.imageButton,variant:"outlined",children:Object(L.jsx)(xe.a,{})})})]}),Object(L.jsx)("div",{className:t.line,children:Object(L.jsx)(Q.a,{id:"token",label:"Pass Token",type:"text",error:$,className:t.title,onChange:function(e){D(e.target.value),e.target.value.length>0?ee(!1):ee(!0)}})}),Object(L.jsx)("div",{className:t.line,children:Object(L.jsxs)(F.a,{className:t.publishButton,variant:"outlined",onClick:ye,children:[Object(L.jsx)(ue.a,{}),Object(L.jsx)(f.a,{children:"Publish"})]})}),Object(L.jsx)("div",{className:t.line,children:Object(L.jsx)(be,{variant:"determinate",status:ve,value:pe})}),Object(L.jsx)(se,{open:le,onClose:function(){je(!1)},Notification:"Invalid Post"})]})}),Object(L.jsx)(l.a,{item:!0,lg:3})]})})},Oe=a(202),ge=a(203),fe=a(100),ve=a.n(fe),ke=a(101),Ne=a.n(ke),ye=a(59),Se=a(207),we=a(201),Ce=Object(b.a)((function(e){return{drawer:Object(ye.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),drawerPaper:{width:240}}})),Te=function(e){var t=Ce();return Object(L.jsx)("nav",{className:t.drawer,"aria-label":"mailbox folders",children:Object(L.jsx)(Se.a,{variant:"temporary",anchor:"left",open:e.open,onClose:e.Toggle,classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0},children:Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{className:t.toolbar}),Object(L.jsx)(ce.a,{children:["May","April","March","Feburary"].map((function(e,t){return Object(L.jsx)(ie.a,{button:!0,children:Object(L.jsx)(we.a,{primary:e})},e)}))})]})})})},De=Object(b.a)((function(e){return{root:{display:"flex"},link:{position:"relative",top:"1em",background:"white"},button:{margin:e.spacing(1),color:"inherit"}}})),Fe=function(e){var t=De(),a=c.a.useState(!1),n=Object(d.a)(a,2),i=n[0],r=n[1],j=function(){r(!i)};return console.log(window.location.pathname),Object(L.jsxs)("div",{children:[Object(L.jsx)(Oe.a,{className:t.root,children:Object(L.jsx)(ge.a,{children:Object(L.jsxs)(l.a,{container:!0,spacing:2,children:[Object(L.jsx)(l.a,{item:!0,xs:2,md:1,children:Object(L.jsx)(o.a,{exact:!0,path:"/",children:Object(L.jsx)(g.a,{"aria-label":"dates",edge:"end",className:t.button,onClick:j,children:Object(L.jsx)(ve.a,{})})})}),Object(L.jsx)(l.a,{item:!0,xs:3,md:2,lg:1,children:Object(L.jsx)(s.b,{to:"/",style:{textDecoration:"none"},children:Object(L.jsx)(F.a,{className:t.link,children:"Gallery"})})}),Object(L.jsx)(l.a,{item:!0,xs:3,md:2,lg:1,children:Object(L.jsx)(s.b,{to:"/about",style:{textDecoration:"none"},children:Object(L.jsx)(F.a,{className:t.link,children:"About"})})}),Object(L.jsx)(l.a,{item:!0,xs:2,md:6,lg:8}),Object(L.jsx)(l.a,{item:!0,xs:2,md:1,children:Object(L.jsx)(g.a,{"aria-label":"login",edge:"end",className:t.button,children:Object(L.jsx)(Ne.a,{size:"medium"})})})]})})}),Object(L.jsx)(ge.a,{}),Object(L.jsx)(o.a,{exact:!0,path:"/",children:Object(L.jsx)(Te,{open:i,Toggle:j})})]})};var Pe=function(){return Object(L.jsx)(s.a,{children:Object(L.jsxs)("div",{className:"App",children:[Object(L.jsx)(Fe,{}),Object(L.jsxs)(o.c,{children:[Object(L.jsx)(o.a,{exact:!0,path:"/",component:R}),Object(L.jsx)(o.a,{exact:!0,path:"/about",component:Z}),Object(L.jsx)(o.a,{exact:!0,path:"/newpost",component:pe})]})]})})},Me=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,209)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),i(e),r(e)}))};r.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(Pe,{})}),document.getElementById("root")),Me()}},[[144,1,2]]]);
//# sourceMappingURL=main.b0b35fb6.chunk.js.map